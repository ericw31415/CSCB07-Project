Index: app/src/main/java/ca/utoronto/cscb07project/MainActivity.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package ca.utoronto.cscb07project;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\n\nimport ca.utoronto.cscb07project.databinding.ActivityMainBinding;\nimport ca.utoronto.cscb07project.ui.POStCheck.POStCheckActivity;\nimport ca.utoronto.cscb07project.ui.POStCheck.POStCheckCalc;\nimport ca.utoronto.cscb07project.ui.loginsignout.LoginSignoutActivity;\nimport ca.utoronto.cscb07project.ui.signup.SignupActivity;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private ActivityMainBinding binding;\n\n    private Button POStCheck;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\n        DatabaseReference myRef = database.getReference(\"message\");\n        myRef.setValue(\"Hello, World\");\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        BottomNavigationView navView = findViewById(R.id.nav_view);\n        // Passing each menu ID as a set of Ids because each\n        // menu should be considered as top level destinations.\n        AppBarConfiguration appBarConfiguration = new AppBarConfiguration.Builder(\n                R.id.navigation_home, R.id.navigation_events, R.id.navigation_notifications)\n                .build();\n        NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);\n        NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);\n        NavigationUI.setupWithNavController(binding.navView, navController);\n    }\n\n    public void goToLoginSignOut(View view) {\n        Intent intent = new Intent(this, LoginSignoutActivity.class);\n        startActivity(intent);\n    }\n\n    public void toSignUp(View view) {\n        Intent intent = new Intent(this, SignupActivity.class);\n        startActivity(intent);\n    }\n\n    public void goToPostCheck(View view) {\n        startActivity(new Intent(this, POStCheckActivity.class));\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/ca/utoronto/cscb07project/MainActivity.java b/app/src/main/java/ca/utoronto/cscb07project/MainActivity.java
--- a/app/src/main/java/ca/utoronto/cscb07project/MainActivity.java	(revision 30e7333546b7051ba088e0cc2058eba3f822d6d2)
+++ b/app/src/main/java/ca/utoronto/cscb07project/MainActivity.java	(date 1700812194250)
@@ -1,15 +1,32 @@
 package ca.utoronto.cscb07project;
 
+import android.annotation.SuppressLint;
+import android.app.NotificationChannel;
+import android.app.NotificationManager;
 import android.content.Intent;
+import android.os.Build;
 import android.os.Bundle;
 import android.view.View;
 import android.widget.Button;
+import android.widget.EditText;
+import android.widget.Toast;
 
+import com.google.android.gms.tasks.OnCompleteListener;
+import com.google.android.gms.tasks.Task;
 import com.google.android.material.bottomnavigation.BottomNavigationView;
+import com.google.firebase.database.ChildEventListener;
+import com.google.firebase.database.DataSnapshot;
+import com.google.firebase.database.DatabaseError;
 import com.google.firebase.database.DatabaseReference;
 import com.google.firebase.database.FirebaseDatabase;
+import com.google.firebase.database.ValueEventListener;
+import com.google.firebase.messaging.FirebaseMessaging;
 
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
 import androidx.appcompat.app.AppCompatActivity;
+import androidx.core.app.NotificationCompat;
+import androidx.core.app.NotificationManagerCompat;
 import androidx.navigation.NavController;
 import androidx.navigation.Navigation;
 import androidx.navigation.ui.AppBarConfiguration;
@@ -27,6 +44,15 @@
 
     private Button POStCheck;
 
+    EditText editText;
+    Button btn;
+    int id =0;
+    FirebaseDatabase database;
+    DatabaseReference reference;
+
+    Member member;
+
+
     @Override
     protected void onCreate(Bundle savedInstanceState) {
         super.onCreate(savedInstanceState);
@@ -47,6 +73,95 @@
         NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_activity_main);
         NavigationUI.setupActionBarWithNavController(this, navController, appBarConfiguration);
         NavigationUI.setupWithNavController(binding.navView, navController);
+
+
+        member = new Member();
+        btn = findViewById(R.id.btn_save);
+        editText = findViewById(R.id.event_et);
+
+        reference = database.getInstance().getReference().child("Event");
+
+        reference.addValueEventListener(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {
+                if (dataSnapshot.exists()){
+                    id = (int) dataSnapshot.getChildrenCount();
+                }
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
+
+        reference.addChildEventListener(new ChildEventListener() {
+            @Override
+            public void onChildAdded(@NonNull DataSnapshot snapshot, @Nullable String previousChildName){
+
+                String name = editText.getText().toString();
+
+                if (name.isEmpty()){
+                    Toast.makeText(getApplicationContext(), "please fill", Toast.LENGTH_LONG).show();
+                }else{
+                    notification();
+                }
+            }
+
+            @Override
+            public void onChildChanged(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {
+
+            }
+
+            @Override
+            public void onChildRemoved(@NonNull DataSnapshot snapshot) {
+
+            }
+
+            @Override
+            public void onChildMoved(@NonNull DataSnapshot snapshot, @Nullable String previousChildName) {
+
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
+
+        btn.setOnClickListener(new View.OnClickListener() {
+            @Override
+            public void onClick(View v) {
+
+                String event = editText.getText().toString();
+
+                if(event.isEmpty()){
+                    Toast.makeText(getApplicationContext(), "please fill", Toast.LENGTH_LONG).show();
+                }else{
+                    member.setName(editText.getText().toString());
+
+                    reference.child(String.valueOf(id + 1)).setValue(member);
+                }
+            }
+        });
+
+    }
+
+    @SuppressLint("MissingPermission")
+    private void notification(){
+        if(Build.VERSION.SDK_INT >= Build.VERSION_CODES.O){
+            NotificationChannel channel =
+                    new NotificationChannel("n", "n", NotificationManager.IMPORTANCE_DEFAULT);
+            NotificationManager manager = getSystemService(NotificationManager.class);
+            manager.createNotificationChannel(channel);
+        }
+        NotificationCompat.Builder builder = new NotificationCompat.Builder(this, "n")
+                .setContentText("Code Sphere")
+                .setSmallIcon(R.drawable.baseline_school_24)
+                .setAutoCancel(true)
+                .setContentText("Event posted");
+        NotificationManagerCompat managerCompat = NotificationManagerCompat.from(this);
+        managerCompat.notify(999, builder.build());
     }
 
     public void goToLoginSignOut(View view) {
Index: app/src/main/java/ca/utoronto/cscb07project/ui/notifications/NotificationsFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package ca.utoronto.cscb07project.ui.notifications;\n\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.fragment.app.Fragment;\nimport androidx.lifecycle.ViewModelProvider;\n\nimport ca.utoronto.cscb07project.databinding.FragmentNotificationsBinding;\n\npublic class NotificationsFragment extends Fragment {\n\n    private FragmentNotificationsBinding binding;\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n        NotificationsViewModel notificationsViewModel =\n                new ViewModelProvider(this).get(NotificationsViewModel.class);\n\n        binding = FragmentNotificationsBinding.inflate(inflater, container, false);\n        View root = binding.getRoot();\n\n        final TextView textView = binding.textNotifications;\n        notificationsViewModel.getText().observe(getViewLifecycleOwner(), textView::setText);\n        return root;\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/ca/utoronto/cscb07project/ui/notifications/NotificationsFragment.java b/app/src/main/java/ca/utoronto/cscb07project/ui/notifications/NotificationsFragment.java
--- a/app/src/main/java/ca/utoronto/cscb07project/ui/notifications/NotificationsFragment.java	(revision 30e7333546b7051ba088e0cc2058eba3f822d6d2)
+++ b/app/src/main/java/ca/utoronto/cscb07project/ui/notifications/NotificationsFragment.java	(date 1700592585618)
@@ -16,6 +16,7 @@
 
     private FragmentNotificationsBinding binding;
 
+
     public View onCreateView(@NonNull LayoutInflater inflater,
                              ViewGroup container, Bundle savedInstanceState) {
         NotificationsViewModel notificationsViewModel =
@@ -29,6 +30,8 @@
         return root;
     }
 
+
+
     @Override
     public void onDestroyView() {
         super.onDestroyView();
Index: app/src/main/res/layout/fragment_events.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".ui.events.EventsFragment\">\n\n    <TextView\n        android:id=\"@+id/text_events\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"8dp\"\n        android:layout_marginTop=\"8dp\"\n        android:layout_marginEnd=\"8dp\"\n        android:textAlignment=\"center\"\n        android:textSize=\"20sp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" />\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_events.xml b/app/src/main/res/layout/fragment_events.xml
--- a/app/src/main/res/layout/fragment_events.xml	(revision 30e7333546b7051ba088e0cc2058eba3f822d6d2)
+++ b/app/src/main/res/layout/fragment_events.xml	(date 1700805560506)
@@ -4,8 +4,11 @@
     xmlns:tools="http://schemas.android.com/tools"
     android:layout_width="match_parent"
     android:layout_height="match_parent"
+    android:orientation="vertical"
+    android:gravity = "center"
     tools:context=".ui.events.EventsFragment">
 
+
     <TextView
         android:id="@+id/text_events"
         android:layout_width="match_parent"
@@ -17,6 +20,33 @@
         android:textSize="20sp"
         app:layout_constraintBottom_toBottomOf="parent"
         app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.0"
         app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toTopOf="parent" />
+        app:layout_constraintTop_toTopOf="parent"
+        app:layout_constraintVertical_bias="0.081" />
+
+    <EditText
+        android:id="@+id/event_et"
+        android:layout_width="300dp"
+        android:layout_height="wrap_content"
+        android:hint="event"
+        android:textColor="@android:color/black"
+        android:textSize="20sp"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toBottomOf="@+id/text_events" />
+
+    <Button
+        android:id="@+id/btn_save"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:text="save event"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintHorizontal_bias="0.498"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toBottomOf="@+id/event_et"
+        app:layout_constraintVertical_bias="0.125" />
+
 </androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/build.gradle.kts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>plugins {\n    id(\"com.android.application\")\n    id(\"com.google.gms.google-services\")\n}\n\nandroid {\n    namespace = \"ca.utoronto.cscb07project\"\n    compileSdk = 34\n\n    defaultConfig {\n        applicationId = \"ca.utoronto.cscb07project\"\n        minSdk = 24\n        targetSdk = 33\n        versionCode = 1\n        versionName = \"1.0\"\n\n        testInstrumentationRunner = \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        release {\n            isMinifyEnabled = false\n            proguardFiles(\n                getDefaultProguardFile(\"proguard-android-optimize.txt\"),\n                \"proguard-rules.pro\"\n            )\n        }\n    }\n    compileOptions {\n        sourceCompatibility = JavaVersion.VERSION_1_8\n        targetCompatibility = JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding = true\n    }\n}\n\ndependencies {\n\n    implementation(\"androidx.appcompat:appcompat:1.6.1\")\n    implementation(\"com.google.android.material:material:1.10.0\")\n    implementation(\"androidx.constraintlayout:constraintlayout:2.1.4\")\n    implementation(\"androidx.lifecycle:lifecycle-livedata-ktx:2.6.2\")\n    implementation(\"androidx.lifecycle:lifecycle-viewmodel-ktx:2.6.2\")\n    implementation(\"androidx.navigation:navigation-fragment:2.7.5\")\n    implementation(\"androidx.navigation:navigation-ui:2.7.5\")\n    implementation(\"androidx.annotation:annotation:1.7.0\")\n    implementation(platform(\"com.google.firebase:firebase-bom:32.5.0\"))\n    implementation(\"com.google.firebase:firebase-database\")\n    implementation(\"com.google.firebase:firebase-auth:22.2.0\")\n    implementation(\"com.google.firebase:firebase-auth-ktx:22.2.0\")\n    implementation(\"com.google.firebase:firebase-database-ktx:20.3.0\")\n    implementation(\"com.google.firebase:firebase-analytics:21.5.0\")\n    implementation(\"com.firebaseui:firebase-ui-database:8.0.2\")\n    testImplementation(\"junit:junit:4.13.2\")\n    androidTestImplementation(\"androidx.test.ext:junit:1.1.5\")\n    androidTestImplementation(\"androidx.test.espresso:espresso-core:3.5.1\")\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/build.gradle.kts b/app/build.gradle.kts
--- a/app/build.gradle.kts	(revision 30e7333546b7051ba088e0cc2058eba3f822d6d2)
+++ b/app/build.gradle.kts	(date 1700592769948)
@@ -52,6 +52,7 @@
     implementation("com.google.firebase:firebase-database-ktx:20.3.0")
     implementation("com.google.firebase:firebase-analytics:21.5.0")
     implementation("com.firebaseui:firebase-ui-database:8.0.2")
+    implementation("com.google.firebase:firebase-messaging:23.3.1")
     testImplementation("junit:junit:4.13.2")
     androidTestImplementation("androidx.test.ext:junit:1.1.5")
     androidTestImplementation("androidx.test.espresso:espresso-core:3.5.1")
Index: app/src/main/AndroidManifest.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\n<manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\">\n\n    <application\n        android:allowBackup=\"true\"\n        android:dataExtractionRules=\"@xml/data_extraction_rules\"\n        android:fullBackupContent=\"@xml/backup_rules\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/Theme.CSCB07Project\"\n        tools:targetApi=\"31\">\n        <activity\n            android:name=\".ui.POStCheck.POStCheckCalc\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".ui.signup.SignupActivity\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".ui.POStCheck.POStCheckActivity\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".ui.loginsignout.LoginSignoutActivity\"\n            android:exported=\"false\" />\n        <activity\n            android:name=\".MainActivity\"\n            android:exported=\"true\"\n            android:label=\"@string/app_name\">\n            <intent-filter>\n                <action android:name=\"android.intent.action.MAIN\" />\n\n                <category android:name=\"android.intent.category.LAUNCHER\" />\n            </intent-filter>\n        </activity>\n    </application>\n\n</manifest>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/AndroidManifest.xml b/app/src/main/AndroidManifest.xml
--- a/app/src/main/AndroidManifest.xml	(revision 30e7333546b7051ba088e0cc2058eba3f822d6d2)
+++ b/app/src/main/AndroidManifest.xml	(date 1700783871616)
@@ -34,6 +34,14 @@
                 <category android:name="android.intent.category.LAUNCHER" />
             </intent-filter>
         </activity>
+
+        <service android:name = ".MyFirebaseMessagingService"
+            android:exported="false">
+                    <intent-filter>
+                        <action android:name=" com.google.firebase.MESSAGING_EVENT"/>
+                    </intent-filter>
+        </service>
+
     </application>
 
 </manifest>
\ No newline at end of file
Index: build.gradle.kts
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\n    id(\"com.android.application\") version \"8.1.3\" apply false\n    id(\"com.google.gms.google-services\") version \"4.4.0\" apply false\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/build.gradle.kts b/build.gradle.kts
--- a/build.gradle.kts	(revision 30e7333546b7051ba088e0cc2058eba3f822d6d2)
+++ b/build.gradle.kts	(date 1700592769886)
@@ -1,3 +1,8 @@
+buildscript {
+    dependencies {
+        classpath("com.google.gms:google-services:4.4.0")
+    }
+}
 // Top-level build file where you can add configuration options common to all sub-projects/modules.
 plugins {
     id("com.android.application") version "8.1.3" apply false
